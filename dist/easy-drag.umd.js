(function(u,a){typeof exports=="object"&&typeof module!="undefined"?module.exports=a():typeof define=="function"&&define.amd?define(a):(u=typeof globalThis!="undefined"?globalThis:u||self,u["easy-drag"]=a())})(this,function(){"use strict";const u=(e,n)=>{const o=n[0]-e[0],t=n[1]-e[1];return[o,t]},a=(e,n)=>{let o=e[0],t=e[1];return o=Math.max(o,n[2]),o=Math.min(o,n[3]),t=Math.max(t,n[0]),t=Math.min(t,n[1]),[o,t]},x=(e,n)=>`translate3d(${n[0]}px, ${n[1]}px, 0px) ${e.replace("none","")}`;return(e,n)=>{let{outerElement:o,innerElement:t,onDragStart:f,onDrag:m,onDragEnd:l}=n!=null?n:{},c=null,d=null,p="";o=o!=null?o:document.body,e=e,t=t!=null?t:e;const E=s=>{e.style.transform=x(p,s)},g=s=>{if(s.stopPropagation(),c=[s.pageX,s.pageY],o&&e&&t){const r=o.getBoundingClientRect(),i=e.getBoundingClientRect();d=[r.top-i.top,r.bottom-i.bottom,r.left-i.left,r.right-i.right],p=window.getComputedStyle(e).transform}typeof f=="function"&&f()},v=s=>{if(c&&d){const r=[s.pageX,s.pageY],i=u(c,r),h=a(i,d);E(h),typeof m=="function"&&m(h)}},y=s=>{c&&d&&typeof l=="function"&&l(),c=null},L=()=>{t&&(t.addEventListener("mousedown",g),document.addEventListener("mousemove",v),document.addEventListener("mouseup",y))},M=()=>{t&&(t.removeEventListener("mousedown",g),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y))};return L(),M}});
