(function(i,d){typeof exports=="object"&&typeof module!="undefined"?module.exports=d():typeof define=="function"&&define.amd?define(d):(i=typeof globalThis!="undefined"?globalThis:i||self,i["easy-drag"]=d())})(this,function(){"use strict";const i=(e,n)=>{const o=e[0]+n[0],t=e[1]+n[1];return[o,t]},d=(e,n)=>{const o=n[0]-e[0],t=n[1]-e[1];return[o,t]},h=(e,n)=>{let o=e[0],t=e[1];return o=Math.max(o,n[2]),o=Math.min(o,n[3]),t=Math.max(t,n[0]),t=Math.min(t,n[1]),[o,t]},E=(e,n)=>`translate3d(${n[0]}px, ${n[1]}px, 0px) ${e.replace("none","")}`;return(e,n)=>{let{outerElement:o,innerElement:t,onDragStart:m,onDrag:g,onDragEnd:p}=n!=null?n:{},L=window.getComputedStyle(e).transform,u=null,v=null,a=null,c=[0,0],f=[0,0];o=o!=null?o:document.body,e=e,t=t!=null?t:e;const y=s=>{if(s.stopPropagation(),u=[s.pageX,s.pageY],o&&e&&t){const r=o.getBoundingClientRect(),l=e.getBoundingClientRect();a=[r.top-l.top,r.bottom-l.bottom,r.left-l.left,r.right-l.right]}typeof m=="function"&&m(c)},M=s=>{if(u&&a){v=[s.pageX,s.pageY];const r=h(d(u,v),a);f=i(c,r),e.style.transform=E(L,f),typeof g=="function"&&g(f)}},x=s=>{u&&a&&(c=f,typeof p=="function"&&p(c)),u=null},V=()=>{t&&(t.addEventListener("mousedown",y),document.addEventListener("mousemove",M),document.addEventListener("mouseup",x))},b=()=>{t&&(t.removeEventListener("mousedown",y),document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",x))};return V(),b}});
