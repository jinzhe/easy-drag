(function(c,i){typeof exports=="object"&&typeof module!="undefined"?module.exports=i():typeof define=="function"&&define.amd?define(i):(c=typeof globalThis!="undefined"?globalThis:c||self,c["easy-drag"]=i())})(this,function(){"use strict";const c=(e,o)=>{const n=e[0]+o[0],t=e[1]+o[1];return[n,t]},i=(e,o)=>{const n=o[0]-e[0],t=o[1]-e[1];return[n,t]},b=(e,o)=>{let n=e[0],t=e[1];return n=Math.max(n,o[2]),n=Math.min(n,o[3]),t=Math.max(t,o[0]),t=Math.min(t,o[1]),[n,t]},m=/translate\((\d+)px,\s*(\d+)px\)/,E=e=>{const o=e.match(m);let n=0,t=0;return o&&(n=Number(o[1]),t=Number(o[2])),[n,t]},L=(e,o)=>{const n=E(e),t=c(n,o),d=e.replace(m,"").replace("none","");return`translate(${t[0]}px, ${t[1]}px) ${d}`};return(e,o)=>{let{outerElement:n,innerElement:t,onDragStart:d,onDrag:l,onDragEnd:p}=o!=null?o:{},u=null,f=null,g="";n=n!=null?n:document.body,e=e,t=t!=null?t:e;const M=s=>{e.style.transform=L(g,s)},x=s=>{if(s.stopPropagation(),u=[s.pageX,s.pageY],n&&e&&t){const r=n.getBoundingClientRect(),a=e.getBoundingClientRect();f=[r.top-a.top,r.bottom-a.bottom,r.left-a.left,r.right-a.right],g=window.getComputedStyle(e).transform}typeof d=="function"&&d()},y=s=>{if(u&&f){const r=[s.pageX,s.pageY],a=i(u,r),v=b(a,f);M(v),typeof l=="function"&&l(v)}},h=s=>{u&&f&&typeof p=="function"&&p(),u=null},T=()=>{t&&(t.addEventListener("mousedown",x),document.addEventListener("mousemove",y),document.addEventListener("mouseup",h))},P=()=>{t&&(t.removeEventListener("mousedown",x),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",h))};return T(),P}});
