(function(i,u){typeof exports=="object"&&typeof module!="undefined"?module.exports=u():typeof define=="function"&&define.amd?define(u):(i=typeof globalThis!="undefined"?globalThis:i||self,i["easy-drag"]=u())})(this,function(){"use strict";var i=function(e,n){var o=n[0]-e[0],t=n[1]-e[1];return[o,t]},u=function(e,n){var o=e[0],t=e[1];return o=Math.max(o,n[2]),o=Math.min(o,n[3]),t=Math.max(t,n[0]),t=Math.min(t,n[1]),[o,t]},x=function(e,n){return"translate3d("+n[0]+"px, "+n[1]+"px, 0px) "+e.replace("none","")};return(e,n)=>{let{outerElement:o,innerElement:t,onDragStart:c,onDrag:m,onDragEnd:p}=n!=null?n:{},d=null,f=null,l="";o=o!=null?o:document.body,e=e,t=t!=null?t:e;const E=r=>{e.style.transform=x(l,r)},v=r=>{if(r.stopPropagation(),d=[r.pageX,r.pageY],o&&e&&t){const s=o.getBoundingClientRect(),a=e.getBoundingClientRect();f=[s.top-a.top,s.bottom-a.bottom,s.left-a.left,s.right-a.right],l=window.getComputedStyle(e).transform}typeof c=="function"&&c()},g=r=>{if(d&&f){const s=[r.pageX,r.pageY],a=i(d,s),h=u(a,f);E(h),typeof m=="function"&&m(h)}},y=r=>{d&&f&&typeof p=="function"&&p(),d=null},L=()=>{t&&(t.addEventListener("mousedown",v),document.addEventListener("mousemove",g),document.addEventListener("mouseup",y))},M=()=>{t&&(t.removeEventListener("mousedown",v),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y))};return L(),M}});
